# Лабораторная работа: "Внедрение маршрутизации между виртуальными локальными сетями"

### Цели работы
Создание сети и настройка основных параметров устройства

Создание VLAN и назначение портов коммутатора

Настройка транков 802.1Q между устройствами

Настройка маршрутизации между VLAN по технологии Router-on-a-Stick

Проверка работоспособности сети

### Используемое оборудование
Маршрутизатор: Cisco 4331 (16.6.4)

Коммутаторы: 2x Cisco Catalyst 2960 (15.0)

Компьютеры: 2x PC (1.0.0)

### Топология сети

<img width="935" height="486" alt="image" src="https://github.com/user-attachments/assets/eca8637f-d2bf-4675-81bc-4b855dc13e74" />

## Таблицы адресации и VLAN
### Таблица адресации

| Устройство |	Интерфейс |	IP-адрес |	Маска подсети |	Шлюз по умолчанию |
|------------|------------|----------|----------------|-------------------|
| R1 |	G0/0/1.10 |	192.168.10.1 |	255.255.255.0 |	— |
| R1 |	G0/0/1.20 |	192.168.20.1 |	255.255.255.0 |	— |
| R1 |	G0/0/1.30 |	192.168.30.1 |	255.255.255.0 |	— |
| S1 |	VLAN 10 |	192.168.10.11 |	255.255.255.0 |	192.168.10.1 |
| S2 |	VLAN 10 |	192.168.10.12 |	255.255.255.0 |	192.168.10.1 |
| PC-A |	NIC |	192.168.20.3 |	255.255.255.0 |	192.168.20.1 |
| PC-B |	NIC |	192.168.30.3 |	255.255.255.0 |	192.168.30.1 |

## Таблица VLAN
| VLAN |	Имя |	Назначенные порты |
|------|------|-------------------|
| 10 |	10 |	S1: управление, S2: управление |
| 20 |	20 |	S1: F0/6 (PC-A) |
| 30 |	30 |	S2: F0/18 (PC-B) |
| 999 |	999 |	Неиспользуемые порты |
| 1000 |	Native |	Транковые порты |

## Выполнение работы
### Часть 1: Базовая конфигурация устройств
#### Маршрутизатор R1:

```
hostname R1
enable secret class
service password-encryption
banner motd # access #
```
Аналогичная настройка на S1 и S2

## Часть 2: Создание и настройка VLAN
### На коммутаторе S1:
<img width="561" height="245" alt="image" src="https://github.com/user-attachments/assets/2d4fc397-3e87-4512-9bc2-7f9bedc64d04" />

### На коммутаторе S2:

<img width="557" height="245" alt="image" src="https://github.com/user-attachments/assets/ba5b687b-501e-4f9e-9160-a89180036161" />

### Часть 3: Настройка транков 802.1Q
#### Проверка транков на S1:

<img width="475" height="211" alt="image" src="https://github.com/user-attachments/assets/0c6e03bc-c974-47af-bfe5-dc105617d447" />

#### Проверка транков на S2:

<img width="472" height="156" alt="image" src="https://github.com/user-attachments/assets/67dc6438-245c-4b37-bbdf-8cfbf2491de9" />

### Часть 4: Настройка маршрутизации между VLAN
#### Конфигурация подинтерфейсов на R1:

<img width="280" height="246" alt="image" src="https://github.com/user-attachments/assets/79f48630-baf1-4da4-8653-50a611821d30" />

### Проверка состояния интерфейсов R1:

<img width="567" height="132" alt="image" src="https://github.com/user-attachments/assets/caaa6580-7625-402f-9d09-9129a391d20f" />

## Проверка результатов
### Тестирование связности с PC-A
#### Ping до шлюза по умолчанию:

<img width="397" height="171" alt="image" src="https://github.com/user-attachments/assets/66886827-52c6-4e6c-9756-c510f2200048" />

#### Ping до PC-B (другой VLAN):

<img width="398" height="168" alt="image" src="https://github.com/user-attachments/assets/22024e59-cfa5-4b21-9fb1-c5534b6bff5a" />

#### Ping до коммутатора S2:

<img width="398" height="171" alt="image" src="https://github.com/user-attachments/assets/6252798c-a9c7-414b-aa7a-d815c1282fcf" />

#### Трассировка маршрута с PC-B
### Tracert до PC-A:

<img width="405" height="106" alt="image" src="https://github.com/user-attachments/assets/728815f6-3ff6-42a1-8d21-9e88bb473220" />

### Достигнутые результаты:
#### Созданы и настроены VLAN на обоих коммутаторах:

VLAN 10 для управления коммутаторами

VLAN 20 для PC-A

VLAN 30 для PC-B

VLAN 999 для неиспользуемых портов

VLAN 1000 для транковых соединений

#### Настроены транки 802.1Q между устройствами:

Транк R1-S1 (G0/0/1 ↔ F0/5)

Транк S1-S2 (F0/1 ↔ F0/1)

Все транки настроены с native VLAN 1000

Разрешены VLAN 10, 20, 30, 1000

#### Реализована маршрутизация между VLAN по технологии Router-on-a-Stick:

На R1 созданы подинтерфейсы для каждой VLAN

Каждому подинтерфейсу назначен IP-адрес как шлюз по умолчанию для соответствующей VLAN

Использована инкапсуляция 802.1Q

#### Проверена работоспособность сети:

PC-A может связываться со своим шлюзом (192.168.20.1)

PC-A может связываться с PC-B через маршрутизатор

PC-A может связываться с управляющим интерфейсом S2

Tracert подтверждает прохождение трафика через маршрутизатор


